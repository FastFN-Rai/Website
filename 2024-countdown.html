<!DOCTYPE html>
<html lang="ja">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="description" content="雷さんのサイトへようこそ！" />
    <link rel="canonical" href="https://rai.uplauncher.xyz/" />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/bulma/0.9.4/css/bulma.min.css"
    />
    <link rel="icon" href="/favicon.ico" />
    <script src="menu/setup.js" type="module"></script>
    <title>2024年まで | 雷さんのサイト</title>
    <link rel="stylesheet" href="css/index.css" />
  </head>

  <body>
    <header></header>

    <style>
      span {
        font-size: 3vw;
      }
    </style>

    <div
      class="content centertexts firework-container"
      style="width: 100%; height: 100vh"
    >
      <div class="c-firework"></div>
      <div class="c-firework"></div>
      <div class="c-firework"></div>
      <div class="c-firework"></div>
      <div class="c-firework"></div>
      <div class="c-firework"></div>
      <div class="c-firework"></div>
      <div class="c-firework"></div>
      <div class="c-firework"></div>
      <div class="c-firework"></div>
      <div class="c-firework"></div>
      <div class="c-firework"></div>
      <div class="c-firework"></div>
      <div class="c-firework"></div>
      <div class="c-firework"></div>
      <div class="c-firework"></div>
      <div class="c-firework"></div>
      <div class="c-firework"></div>
      <div class="c-firework"></div>
      <div class="c-firework"></div>
      <div class="c-firework"></div>
      <div class="c-firework"></div>
      <div class="c-firework"></div>
      <div class="c-firework"></div>

      <h1>2024年まで</h1>
      <p>
        このページはベータ版です。カウントダウンの練習をするために作りました。<br />
        最終更新: 2023/12/25 (version 1.0)
      </p>

      <h2 id="2024-alert">あと〇日。</h2>

      <div class="countdown-container">
        <span id="day"></span>日 <span id="hour"></span>時間
        <span id="min"></span>分 <span id="sec"></span>秒
      </div>

      <p>2024年になるとカウントダウンであることが起きる(かもしれない！)</p>
    </div>

    <footer></footer>

    <script>
      function countdown() {
        document.querySelectorAll(".c-firework").forEach((container) => {
          container.style.display = "none";
        });
        const now = new Date();
        let date = new Date(2024, 0, 1, 0, 0, 0);

        date = new Date(2023, 11, 25, 18, 54, 30);

        let fkdiffer = date.getTime() - now.getTime();
        let fksec = Math.floor(fkdiffer / 1000) % 60;
        let differ = date.getTime() - now.getTime();

        fkdiffer = 0;

        const sec = Math.floor(differ / 1000) % 60;
        const min = Math.floor(differ / 1000 / 60) % 60;
        const hour = Math.floor(differ / 1000 / 60 / 60) % 24;
        const day = Math.floor(differ / 1000 / 60 / 60 / 24);

        document.getElementById("day").textContent = String(day).padStart(
          2,
          "0"
        );
        document.getElementById("hour").textContent = String(hour).padStart(
          2,
          "0"
        );
        document.getElementById("min").textContent = String(min).padStart(
          2,
          "0"
        );
        document.getElementById("sec").textContent = String(sec).padStart(
          2,
          "0"
        );

        if (day != 0) {
          document.getElementById("2024-alert").textContent = `あと${day}日！`;
        } else if (hour != 0) {
            document.getElementById("2024-alert").textContent = `あと${hour}時間！`;
        } else if (min != 0) {
            document.getElementById("2024-alert").textContent = `あと${min}分！`;
        } else {
            document.getElementById("2024-alert").textContent = `あと${sec}秒！`;
        }

        if (Math.sign(fksec) == -1) {
          console.log(fkdiffer);
          document.getElementById("2024-alert").textContent =
            "2024年になりました！";
          document.querySelectorAll(".c-firework").forEach((container) => {
            console.log(container);
            container.style.display = "";
          });
          document.getElementById("day").innerHTML = "0";
          document.getElementById("hour").textContent = "0";
          document.getElementById("min").textContent = "0";
          document.getElementById("sec").textContent = "0";
          return;
        }
        setTimeout(countdown, 1000);
      }
      countdown();
    </script>

    <script src="/js/firebase.js" type="module"></script>
  </body>
</html>
